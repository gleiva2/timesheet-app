{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport moment from \"moment\";\nimport axios from \"axios\";\nexport default {\n  data: function data() {\n    return {\n      baseUrl: \"http://192.168.86.220:3000/timesheet\",\n      monthChange: null,\n      month: \"\",\n      dates: [\"\"],\n      days: {\n        sunday: 0,\n        monday: 0,\n        tuesday: 0,\n        wednesday: 0,\n        thursday: 0,\n        friday: 0,\n        saturday: 0\n      },\n      rate: 100,\n      monthObject: null,\n      ptMonthChange: null,\n      ptMonth: \"\",\n      ptDates: [\"\"],\n      ptDays: {\n        sunday: 0,\n        monday: 0,\n        tuesday: 0,\n        wednesday: 0,\n        thursday: 0,\n        friday: 0,\n        saturday: 0\n      },\n      ptRate: 50,\n      ptMonthObject: null\n    };\n  },\n  watch: {\n    /**\n     * Cleaning Hours month change\n     */\n    monthChange: function monthChange(yearMonth) {\n      console.log(\"watch\");\n      this.month = yearMonth;\n      this.getTimesheet(\"reg\", yearMonth);\n    },\n\n    /**\n     * Cleaning Hours PT month change\n     */\n    ptMonthChange: function ptMonthChange(yearMonth) {\n      this.ptMonth = yearMonth;\n      this.getTimesheet(\"pt\", yearMonth);\n    }\n  },\n  beforeCreate: function beforeCreate() {\n    console.log(\"before create\");\n  },\n  methods: {\n    getTimesheet: function getTimesheet(type, month) {\n      var _this = this;\n\n      axios.get(\"\".concat(this.baseUrl, \"/\").concat(type, \"/\").concat(month)).then(function (res) {\n        // if we have a response, update data\n        if (res.data.length != 0) {\n          if (type === \"reg\") {\n            _this.monthObject = res.data[0];\n            _this.month = _this.monthObject.yearMonth;\n            _this.dates = _this.monthObject.dates;\n            _this.days = _this.monthObject.days;\n          } else {\n            _this.ptMonthObject = res.data[0];\n            _this.ptMonth = _this.ptMonthObject.yearMonth;\n            _this.ptDates = _this.ptMonthObject.dates;\n            _this.ptDays = _this.ptMonthObject.days;\n          }\n        } else {\n          // if not, its a new month, reset data\n          if (type === \"reg\") {\n            _this.dates = [\"\"];\n\n            _this.prepDays(\"reg\");\n\n            _this.monthObject = null;\n          } else {\n            _this.ptDates = [\"\"];\n\n            _this.prepDays(\"pt\");\n\n            _this.ptMonthObject = null;\n          }\n        }\n      });\n    },\n    createTimesheet: function createTimesheet(type, month) {\n      var _this2 = this;\n\n      var dates;\n      var days;\n\n      if (type === \"reg\") {\n        dates = this.dates;\n        days = this.days;\n      } else {\n        dates = this.ptDates;\n        days = this.ptDays;\n      }\n\n      axios.post(this.baseUrl, {\n        name: type,\n        yearMonth: month,\n        dates: dates,\n        days: days\n      }).then(function (res) {\n        if (type === \"reg\") {\n          _this2.monthObject = res.data;\n          _this2.month = _this2.monthObject.yearMonth;\n          _this2.dates = _this2.monthObject.dates;\n          _this2.days = _this2.monthObject.days;\n        } else {\n          _this2.ptMonthObject = res.data;\n          _this2.ptMonth = _this2.ptMonthObject.yearMonth;\n          _this2.ptDates = _this2.ptMonthObject.dates;\n          _this2.ptDays = _this2.ptMonthObject.days;\n        }\n      });\n    },\n    updateTimesheet: function updateTimesheet(type, month) {\n      var _this3 = this;\n\n      var dates;\n      var days;\n\n      if (type === \"reg\") {\n        dates = this.dates;\n        days = this.days;\n      } else {\n        dates = this.ptDates;\n        days = this.ptDays;\n      }\n\n      axios.patch(\"\".concat(this.baseUrl, \"/\").concat(type, \"/\").concat(month), {\n        name: type,\n        yearMonth: month,\n        dates: dates,\n        days: days\n      }).then(function (res) {\n        if (type === \"reg\") {\n          _this3.monthObject = res.data;\n          _this3.month = _this3.monthObject.yearMonth;\n          _this3.dates = _this3.monthObject.dates;\n          _this3.days = _this3.monthObject.days;\n        } else {\n          _this3.ptMonthObject = res.data;\n          _this3.ptMonth = _this3.ptMonthObject.yearMonth;\n          _this3.ptDates = _this3.ptMonthObject.dates;\n          _this3.ptDays = _this3.ptMonthObject.days;\n        }\n      });\n    },\n\n    /**\n     * Regular days methods\n     */\n    updateDates: function updateDates(dates) {\n      this.prepDays(\"reg\");\n      this.countDays(dates); // if we have data, then call patch\n\n      if (this.monthObject) {\n        this.updateTimesheet(\"reg\", this.month);\n      } else {\n        // if not then post\n        this.createTimesheet(\"reg\", this.month);\n      }\n    },\n    prepDays: function prepDays(type) {\n      if (type === \"reg\") {\n        this.days = {\n          sunday: 0,\n          monday: 0,\n          tuesday: 0,\n          wednesday: 0,\n          thursday: 0,\n          friday: 0,\n          saturday: 0\n        };\n      } else {\n        this.ptDays = {\n          sunday: 0,\n          monday: 0,\n          tuesday: 0,\n          wednesday: 0,\n          thursday: 0,\n          friday: 0,\n          saturday: 0\n        };\n      }\n    },\n    countDays: function countDays(dates) {\n      var _this4 = this;\n\n      dates.forEach(function (date) {\n        if (date != \"\") {\n          var day = moment(date).format(\"dddd\");\n\n          _this4.addToDays(day);\n        }\n      });\n    },\n    addToDays: function addToDays(day) {\n      switch (day) {\n        case \"Sunday\":\n          this.days.sunday += 1;\n          break;\n\n        case \"Monday\":\n          this.days.monday += 1;\n          break;\n\n        case \"Tuesday\":\n          this.days.tuesday += 1;\n          break;\n\n        case \"Wednesday\":\n          this.days.wednesday += 1;\n          break;\n\n        case \"Thursday\":\n          this.days.thursday += 1;\n          break;\n\n        case \"Friday\":\n          this.days.friday += 1;\n          break;\n\n        case \"Saturday\":\n          this.days.saturday += 1;\n          break;\n\n        default:\n          break;\n      }\n    },\n\n    /**\n     * PT days methods\n     */\n    updatePTDates: function updatePTDates(dates) {\n      this.prepDays(\"pt\");\n      this.countPTDays(dates); // if we have data, then call patch\n\n      if (this.ptMonthObject) {\n        this.updateTimesheet(\"pt\", this.ptMonth);\n      } else {\n        // if not then post\n        this.createTimesheet(\"pt\", this.ptMonth);\n      }\n    },\n    countPTDays: function countPTDays(dates) {\n      var _this5 = this;\n\n      dates.forEach(function (date) {\n        if (date != \"\") {\n          var day = moment(date).format(\"dddd\");\n\n          _this5.addToPTDays(day);\n        }\n      });\n    },\n    addToPTDays: function addToPTDays(day) {\n      switch (day) {\n        case \"Sunday\":\n          this.ptDays.sunday += 1;\n          break;\n\n        case \"Monday\":\n          this.ptDays.monday += 1;\n          break;\n\n        case \"Tuesday\":\n          this.ptDays.tuesday += 1;\n          break;\n\n        case \"Wednesday\":\n          this.ptDays.wednesday += 1;\n          break;\n\n        case \"Thursday\":\n          this.ptDays.thursday += 1;\n          break;\n\n        case \"Friday\":\n          this.ptDays.friday += 1;\n          break;\n\n        case \"Saturday\":\n          this.ptDays.saturday += 1;\n          break;\n\n        default:\n          break;\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;AAEA;AACAA;AAAA;AACAC,qDADA;AAGAC,uBAHA;AAIAC,eAJA;AAKAC,iBALA;AAMAC;AACAC,iBADA;AAEAC,iBAFA;AAGAC,kBAHA;AAIAC,oBAJA;AAKAC,mBALA;AAMAC,iBANA;AAOAC;AAPA,OANA;AAeAC,eAfA;AAgBAC,uBAhBA;AAkBAC,yBAlBA;AAmBAC,iBAnBA;AAoBAC,mBApBA;AAqBAC;AACAZ,iBADA;AAEAC,iBAFA;AAGAC,kBAHA;AAIAC,oBAJA;AAKAC,mBALA;AAMAC,iBANA;AAOAC;AAPA,OArBA;AA8BAO,gBA9BA;AA+BAC;AA/BA;AAAA,GADA;AAkCAC;AACA;AACA;AACA;AACAnB,eAJA,uBAIAoB,SAJA,EAIA;AACAC;AACA;AACA;AACA,KARA;;AASA;AACA;AACA;AACAR,iBAZA,yBAYAO,SAZA,EAYA;AACA;AACA;AACA;AAfA,GAlCA;AAmDAE,cAnDA,0BAmDA;AACAD;AACA,GArDA;AAsDAE;AACAC,gBADA,wBACAC,IADA,EACAxB,KADA,EACA;AAAA;;AACAyB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA,SAZA,MAYA;AACA;AACA;AACA;;AACA;;AACA;AACA,WAJA,MAIA;AACA;;AACA;;AACA;AACA;AACA;AACA,OA1BA;AA2BA,KA7BA;AA8BAC,mBA9BA,2BA8BAF,IA9BA,EA8BAxB,KA9BA,EA8BA;AAAA;;AACA;AACA;;AACA;AACAC;AACAC;AACA,OAHA,MAGA;AACAD;AACAC;AACA;;AAEAuB,YACAE,IADA,CACA,YADA,EACA;AACAC,kBADA;AAEAT,wBAFA;AAGAlB,oBAHA;AAIAC;AAJA,OADA,EAOA2B,IAPA,CAOA;AACA;AACA;AACA;AACA;AACA;AACA,SALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA,OAnBA;AAoBA,KA7DA;AA8DAC,mBA9DA,2BA8DAN,IA9DA,EA8DAxB,KA9DA,EA8DA;AAAA;;AACA;AACA;;AACA;AACAC;AACAC;AACA,OAHA,MAGA;AACAD;AACAC;AACA;;AAEAuB,YACAM,KADA,WACA,YADA,cACAP,IADA,cACAxB,KADA,GACA;AACA4B,kBADA;AAEAT,wBAFA;AAGAlB,oBAHA;AAIAC;AAJA,OADA,EAOA2B,IAPA,CAOA;AACA;AACA;AACA;AACA;AACA;AACA,SALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA,OAnBA;AAoBA,KA7FA;;AA8FA;AACA;AACA;AACAG,eAjGA,uBAiGA/B,KAjGA,EAiGA;AACA;AACA,4BAFA,CAIA;;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,KA5GA;AA6GAgC,YA7GA,oBA6GAT,IA7GA,EA6GA;AACA;AACA;AACArB,mBADA;AAEAC,mBAFA;AAGAC,oBAHA;AAIAC,sBAJA;AAKAC,qBALA;AAMAC,mBANA;AAOAC;AAPA;AASA,OAVA,MAUA;AACA;AACAN,mBADA;AAEAC,mBAFA;AAGAC,oBAHA;AAIAC,sBAJA;AAKAC,qBALA;AAMAC,mBANA;AAOAC;AAPA;AASA;AACA,KAnIA;AAoIAyB,aApIA,qBAoIAjC,KApIA,EAoIA;AAAA;;AACAA;AACA;AACA;;AACA;AACA;AACA,OALA;AAMA,KA3IA;AA4IAkC,aA5IA,qBA4IAC,GA5IA,EA4IA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AAvBA;AAyBA,KAtKA;;AAuKA;AACA;AACA;AACAC,iBA1KA,yBA0KApC,KA1KA,EA0KA;AACA;AACA,8BAFA,CAIA;;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,KArLA;AAsLAqC,eAtLA,uBAsLArC,KAtLA,EAsLA;AAAA;;AACAA;AACA;AACA;;AACA;AACA;AACA,OALA;AAMA,KA7LA;AA8LAsC,eA9LA,uBA8LAH,GA9LA,EA8LA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AAvBA;AAyBA;AAxNA;AAtDA","names":["data","baseUrl","monthChange","month","dates","days","sunday","monday","tuesday","wednesday","thursday","friday","saturday","rate","monthObject","ptMonthChange","ptMonth","ptDates","ptDays","ptRate","ptMonthObject","watch","yearMonth","console","beforeCreate","methods","getTimesheet","type","axios","createTimesheet","post","name","then","updateTimesheet","patch","updateDates","prepDays","countDays","addToDays","day","updatePTDates","countPTDays","addToPTDays"],"sourceRoot":"src/components","sources":["CleaningHours.vue"],"sourcesContent":["<template>\n  <v-container>\n    <v-sheet>\n      <v-toolbar dense dark color=\"primary\">\n        <v-toolbar-title> Cleaning Hours </v-toolbar-title>\n      </v-toolbar>\n\n      <v-date-picker\n        v-model=\"dates\"\n        multiple\n        elevation=\"5\"\n        no-title\n        @input=\"updateDates\"\n        :picker-date.sync=\"monthChange\"\n      >\n      </v-date-picker>\n\n      <div v-for=\"(value, name) in days\" v-bind:key=\"name\">\n        <p v-if=\"value != 0\">\n          {{ name.charAt(0).toUpperCase() + name.slice(1) }}: {{ value }} *\n          {{ rate }} = {{ value * rate }}\n        </p>\n      </div>\n\n      <p>\n        Total:\n        {{\n          days.sunday * rate +\n          days.monday * rate +\n          days.tuesday * rate +\n          days.wednesday * rate +\n          days.thursday * rate +\n          days.friday * rate +\n          days.saturday * rate\n        }}\n      </p>\n    </v-sheet>\n    <v-sheet>\n      <v-toolbar dense dark color=\"primary\">\n        <v-toolbar-title> Cleaning Hours PT </v-toolbar-title>\n      </v-toolbar>\n\n      <v-date-picker\n        v-model=\"ptDates\"\n        multiple\n        elevation=\"5\"\n        no-title\n        @input=\"updatePTDates\"\n        :picker-date.sync=\"ptMonthChange\"\n      >\n      </v-date-picker>\n\n      <div v-for=\"(value, name) in ptDays\" v-bind:key=\"name\">\n        <p v-if=\"value != 0\">\n          {{ name.charAt(0).toUpperCase() + name.slice(1) }}: {{ value }} *\n          {{ ptRate }} = {{ value * ptRate }}\n        </p>\n      </div>\n\n      <p>\n        Total:\n        {{\n          ptDays.sunday * ptRate +\n          ptDays.monday * ptRate +\n          ptDays.tuesday * ptRate +\n          ptDays.wednesday * ptRate +\n          ptDays.thursday * ptRate +\n          ptDays.friday * ptRate +\n          ptDays.saturday * ptRate\n        }}\n      </p>\n    </v-sheet>\n  </v-container>\n</template>\n\n<script>\nimport moment from \"moment\";\nimport axios from \"axios\";\n\nexport default {\n  data: () => ({\n    baseUrl: \"http://192.168.86.220:3000/timesheet\",\n\n    monthChange: null,\n    month: \"\",\n    dates: [\"\"],\n    days: {\n      sunday: 0,\n      monday: 0,\n      tuesday: 0,\n      wednesday: 0,\n      thursday: 0,\n      friday: 0,\n      saturday: 0,\n    },\n    rate: 100,\n    monthObject: null,\n\n    ptMonthChange: null,\n    ptMonth: \"\",\n    ptDates: [\"\"],\n    ptDays: {\n      sunday: 0,\n      monday: 0,\n      tuesday: 0,\n      wednesday: 0,\n      thursday: 0,\n      friday: 0,\n      saturday: 0,\n    },\n    ptRate: 50,\n    ptMonthObject: null,\n  }),\n  watch: {\n    /**\n     * Cleaning Hours month change\n     */\n    monthChange(yearMonth) {\n      console.log(\"watch\")\n      this.month = yearMonth;\n      this.getTimesheet(\"reg\", yearMonth);\n    },\n    /**\n     * Cleaning Hours PT month change\n     */\n    ptMonthChange(yearMonth) {\n      this.ptMonth = yearMonth;\n      this.getTimesheet(\"pt\", yearMonth);\n    },\n  },\n  beforeCreate(){\n    console.log(\"before create\")\n  },\n  methods: {\n    getTimesheet(type, month) {\n      axios.get(`${this.baseUrl}/${type}/${month}`).then((res) => {\n        // if we have a response, update data\n        if (res.data.length != 0) {\n          if (type === \"reg\") {\n            this.monthObject = res.data[0];\n            this.month = this.monthObject.yearMonth;\n            this.dates = this.monthObject.dates;\n            this.days = this.monthObject.days;\n          } else {\n            this.ptMonthObject = res.data[0];\n            this.ptMonth = this.ptMonthObject.yearMonth;\n            this.ptDates = this.ptMonthObject.dates;\n            this.ptDays = this.ptMonthObject.days;\n          }\n        } else {\n          // if not, its a new month, reset data\n          if (type === \"reg\") {\n            this.dates = [\"\"];\n            this.prepDays(\"reg\");\n            this.monthObject = null;\n          } else {\n            this.ptDates = [\"\"];\n            this.prepDays(\"pt\");\n            this.ptMonthObject = null;\n          }\n        }\n      });\n    },\n    createTimesheet(type, month) {\n      let dates;\n      let days;\n      if (type === \"reg\") {\n        dates = this.dates;\n        days = this.days;\n      } else {\n        dates = this.ptDates;\n        days = this.ptDays;\n      }\n\n      axios\n        .post(this.baseUrl, {\n          name: type,\n          yearMonth: month,\n          dates: dates,\n          days: days,\n        })\n        .then((res) => {\n          if (type === \"reg\") {\n            this.monthObject = res.data;\n            this.month = this.monthObject.yearMonth;\n            this.dates = this.monthObject.dates;\n            this.days = this.monthObject.days;\n          } else {\n            this.ptMonthObject = res.data;\n            this.ptMonth = this.ptMonthObject.yearMonth;\n            this.ptDates = this.ptMonthObject.dates;\n            this.ptDays = this.ptMonthObject.days;\n          }\n        });\n    },\n    updateTimesheet(type, month) {\n      let dates;\n      let days;\n      if (type === \"reg\") {\n        dates = this.dates;\n        days = this.days;\n      } else {\n        dates = this.ptDates;\n        days = this.ptDays;\n      }\n\n      axios\n        .patch(`${this.baseUrl}/${type}/${month}`, {\n          name: type,\n          yearMonth: month,\n          dates: dates,\n          days: days,\n        })\n        .then((res) => {\n          if (type === \"reg\") {\n            this.monthObject = res.data;\n            this.month = this.monthObject.yearMonth;\n            this.dates = this.monthObject.dates;\n            this.days = this.monthObject.days;\n          } else {\n            this.ptMonthObject = res.data;\n            this.ptMonth = this.ptMonthObject.yearMonth;\n            this.ptDates = this.ptMonthObject.dates;\n            this.ptDays = this.ptMonthObject.days;\n          }\n        });\n    },\n    /**\n     * Regular days methods\n     */\n    updateDates(dates) {\n      this.prepDays(\"reg\");\n      this.countDays(dates);\n\n      // if we have data, then call patch\n      if (this.monthObject) {\n        this.updateTimesheet(\"reg\", this.month);\n      } else {\n        // if not then post\n        this.createTimesheet(\"reg\", this.month);\n      }\n    },\n    prepDays(type) {\n      if (type === \"reg\") {\n        this.days = {\n          sunday: 0,\n          monday: 0,\n          tuesday: 0,\n          wednesday: 0,\n          thursday: 0,\n          friday: 0,\n          saturday: 0,\n        };\n      } else {\n        this.ptDays = {\n          sunday: 0,\n          monday: 0,\n          tuesday: 0,\n          wednesday: 0,\n          thursday: 0,\n          friday: 0,\n          saturday: 0,\n        };\n      }\n    },\n    countDays(dates) {\n      dates.forEach((date) => {\n        if (date != \"\") {\n          let day = moment(date).format(\"dddd\");\n          this.addToDays(day);\n        }\n      });\n    },\n    addToDays(day) {\n      switch (day) {\n        case \"Sunday\":\n          this.days.sunday += 1;\n          break;\n        case \"Monday\":\n          this.days.monday += 1;\n          break;\n        case \"Tuesday\":\n          this.days.tuesday += 1;\n          break;\n        case \"Wednesday\":\n          this.days.wednesday += 1;\n          break;\n        case \"Thursday\":\n          this.days.thursday += 1;\n          break;\n        case \"Friday\":\n          this.days.friday += 1;\n          break;\n        case \"Saturday\":\n          this.days.saturday += 1;\n          break;\n        default:\n          break;\n      }\n    },\n    /**\n     * PT days methods\n     */\n    updatePTDates(dates) {\n      this.prepDays(\"pt\");\n      this.countPTDays(dates);\n\n      // if we have data, then call patch\n      if (this.ptMonthObject) {\n        this.updateTimesheet(\"pt\", this.ptMonth);\n      } else {\n        // if not then post\n        this.createTimesheet(\"pt\", this.ptMonth);\n      }\n    },\n    countPTDays(dates) {\n      dates.forEach((date) => {\n        if (date != \"\") {\n          let day = moment(date).format(\"dddd\");\n          this.addToPTDays(day);\n        }\n      });\n    },\n    addToPTDays(day) {\n      switch (day) {\n        case \"Sunday\":\n          this.ptDays.sunday += 1;\n          break;\n        case \"Monday\":\n          this.ptDays.monday += 1;\n          break;\n        case \"Tuesday\":\n          this.ptDays.tuesday += 1;\n          break;\n        case \"Wednesday\":\n          this.ptDays.wednesday += 1;\n          break;\n        case \"Thursday\":\n          this.ptDays.thursday += 1;\n          break;\n        case \"Friday\":\n          this.ptDays.friday += 1;\n          break;\n        case \"Saturday\":\n          this.ptDays.saturday += 1;\n          break;\n        default:\n          break;\n      }\n    },\n  },\n};\n</script>"]},"metadata":{},"sourceType":"module"}